.main-container {
    display: flex;
    max-width: none !important;
    transition: max-width 0.3s ease-in-out; 
    height: calc(100vh - 80px); /* ç”»é¢ã®é«˜ã•ã‹ã‚‰ãƒ˜ãƒƒãƒ€ãƒ¼ã®é«˜ã•(80px)ã‚’å¼•ã„ãŸåˆ† */
    overflow: hidden;           /* ã“ã®ã‚³ãƒ³ãƒ†ãƒŠè‡ªä½“ã¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã•ã›ãªã„ */
}

.sidebar {
    width: 250px;
    flex-shrink: 0; /* ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®å¹…ã‚’å›ºå®š */
    background-color: #777;
    color: #fff;
    padding: 20px;
    transition: all 0.3s ease-in-out; 
    overflow-y: auto; /* ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®å†…å®¹ãŒå¢—ãˆãŸã‚‰ã€ã“ã“ã ã‘ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« */
}

.sidebar-title {
    font-size: 25px;
    text-align: center;
    font-weight: 500;
    color: #e9ecef;
    margin-top: 0;
    margin-bottom: 30px;
    padding-bottom: 12px;
}

.other-chats-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.other-chats-list li {
    margin-bottom: 0.5rem; /* 8px */
}

/* å„å•†å“ã¸ã®ãƒªãƒ³ã‚¯ */
.other-chat-link {
    display: block;
    padding: 10px 14px;
    background-color: #e9ecef;
    color: #212529;    
    text-decoration: none;
    border-radius: 6px;
    font-size: 20px;
    font-weight: 500;
    text-align: center;
    margin-bottom: 30px;
    
    /* ã¯ã¿å‡ºã—ãŸæ–‡å­—ã‚’ã€Œ...ã€ã§çœç•¥ */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    
    transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
}

.other-chat-link:hover {
    background-color: #b2d2f4;
    color: #212529;
    text-decoration: none;
}

/* ä»–ã«å–å¼•ãŒãªã„å ´åˆã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */
.no-other-chats {
    font-size: 0.875rem; /* 14px */
    color: #6c757d; /* å°‘ã—è–„ã„ã‚°ãƒ¬ãƒ¼ */
    padding: 1rem;
    text-align: center;
    background-color: #f1f3f5;
    border-radius: 0.375rem;
}

.chat-window {
    flex-grow: 1;
    background-color: transparent;
    display: flex;
    flex-direction: column;
    min-width: 0; /* flexã‚¢ã‚¤ãƒ†ãƒ ãŒç¸®å°ã§ãã‚‹ã‚ˆã†ã« */
    height: 100%;
}

/* ãƒãƒ£ãƒƒãƒˆãƒ˜ãƒƒãƒ€ãƒ¼ */
.chat-header {
    display: flex;
    align-items: center;
    padding: 15px 20px;
    border-bottom: 3px solid #cacaca;
    flex-shrink: 0;
}

.chat-header-icon {
    width: 70px;
    height: 70px;
    border-radius: 50%;
    margin-right: 30px;
    background-color: #e0e0e0
}

.chat-header-icon {
    object-fit: cover;     /* ç”»åƒã®æ¯”ç‡ã‚’ä¿ã£ãŸã¾ã¾é ˜åŸŸã‚’åŸ‹ã‚ã‚‹ */
}


.chat-header h1 {
    font-size: 30px;
    margin: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.btn-complete {
    background-color: #ef8484;
    color: white;
    border: none;
    font-size: 16px;
    padding: 10px 16px;
    border-radius: 20px;
    cursor: pointer;
    font-weight: bold;
    flex-shrink: 0;
    margin-left: auto;
}

/* å•†å“æƒ…å ± */
.item-info {
    display: flex;
    align-items: center;
    padding: 15px 20px;
    border-bottom: 3px solid #cacaca;
    flex-shrink:0 ;
}
.item-info__image {
    width: 200px;
    height: 200px;
    background-color: #cacaca;
    margin-right: 20px;
    object-fit: cover;
    flex-shrink: 0;
}
.item-info__name {
    font-size: 40px;
    font-weight: bold;
    margin: 0 20px 10px 0;
}
.item-info__price {
    font-size: 28px;
    margin: 0;
}

/* ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¨ãƒªã‚¢å…¨ä½“ */
.message-area {
    flex-grow: 1;
    overflow-y: auto;
    padding: 20px;
    background-color: transparent;
}

/* å€‹ã€…ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã‚³ãƒ³ãƒ†ãƒŠ */
.message {
    display: flex; /* â˜…è¶…é‡è¦: ã‚¢ã‚¤ã‚³ãƒ³ã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ¨ªã«ä¸¦ã¹ã‚‹ */
    align-items: flex-start; /* ä¸Šæƒãˆã«ã™ã‚‹ */
    margin-bottom: 20px;
    max-width: 100%; /* ã¯ã¿å‡ºã—é˜²æ­¢ */
}

/* ã‚¢ã‚¤ã‚³ãƒ³ã®ãƒ©ãƒƒãƒ‘ãƒ¼ */
.message__avatar img {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    object-fit: cover;
    background-color: #e0e0e0;
}

.message__avatar--default img {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    object-fit: cover;
    background-color: #e0e0e0;
}

/* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆåå‰ã¨å¹ãå‡ºã—ï¼‰ã®ãƒ©ãƒƒãƒ‘ãƒ¼ */
.message__content {
    display: flex;
    flex-direction: column;
    min-width: 0;
}

.message__username {
    font-size: 16px;
    color: #555;
    font-weight: bold;
    margin-bottom: 5px; /* å¹ãå‡ºã—ã¨ã®éš™é–“ */
}

.message__bubble {
    background-color: #e0e0e0;
    padding: 10px 15px;
    border-radius: 6px; /* ç”»åƒã«åˆã‚ã›ã¦å››è§’ã */
    max-width: 450px;
    word-wrap: break-word;
}

.message__bubble p {
    margin: 0;
    line-height: 1.5;
}

.message-image {
    max-width: 100%;       /* å¹ãå‡ºã—ã®å¹…ã«åˆã‚ã›ã‚‹ */
    height: auto;          /* é«˜ã•ã¯è‡ªå‹•èª¿æ•´ */
    border-radius: 6px;    /* å¹ãå‡ºã—ã®è§’ä¸¸ã¨åˆã‚ã›ã‚‹ */
    display: block;        /* ç”»åƒä¸‹ã®ä½™ç™½ã‚’ãªãã™ */
}

/* ãƒ†ã‚­ã‚¹ãƒˆã¨ç”»åƒãŒä¸¡æ–¹ã‚ã‚‹å ´åˆã®èª¿æ•´ */
.message-image + .message-text {
    margin-top: 10px; /* ç”»åƒã¨ãƒ†ã‚­ã‚¹ãƒˆã®é–“ã«å°‘ã—éš™é–“ã‚’ã‚ã‘ã‚‹ */
}

/* ç”»åƒã®ã¿ã®å ´åˆã€å¹ãå‡ºã—ã®ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’ãªãã™ */
.message__bubble:has(.message-image:only-child) {
    padding: 0;
    background-color: transparent; /* èƒŒæ™¯ã‚‚é€æ˜ã«ã™ã‚‹ */
}

/* --- å·¦å³ã®é…ç½®èª¿æ•´ --- */

/* ç›¸æ‰‹ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ (å·¦å´) */
.message--other .message__avatar {
    margin-right: 15px; /* ã‚¢ã‚¤ã‚³ãƒ³ã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®é–“ã®éš™é–“ */
}
.message--other .message__content {
    align-items: flex-start; /* ä¸­èº«ã‚’å·¦æƒãˆ */
}

/* è‡ªåˆ†ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ (å³å´) */
.message--self {
    justify-content: flex-end; /* å…¨ä½“ã‚’å³ã«å¯„ã›ã‚‹ */ 
}
.message--self .message__avatar {
    order: 2; /* â˜…é‡è¦: ã‚¢ã‚¤ã‚³ãƒ³ã®è¡¨ç¤ºé †ã‚’2ç•ªç›®ã«ã™ã‚‹ */
    margin-left: 15px; /* ã‚¢ã‚¤ã‚³ãƒ³ã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®é–“ã®éš™é–“ */
}
.message--self .message__content {
    order: 1; /* â˜…é‡è¦: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è¡¨ç¤ºé †ã‚’1ç•ªç›®ã«ã™ã‚‹ */
    align-items: flex-end; /* ä¸­èº«ã‚’å³æƒãˆ */
}
.message--self .message__bubble {
    background-color: #e0e0e0;
}

/* ç·¨é›†ãƒ»å‰Šé™¤ãƒœã‚¿ãƒ³ */
.message__actions {
    font-size: 14px;
    margin-top: 5px;
}

.action-btn {
    background: none;
    border: none;
    color: #777;
    cursor: pointer;
    padding: 0 5px;
}

.action-btn:hover {
    color: #fb7070; 
}

/* --- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç·¨é›†æ™‚ã®ç”»åƒã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ« --- */
.edit-image-controls {
    margin-top: 10px;
    padding-top: 10px;
    border-top: 1px solid #eee;
}

/* ç¾åœ¨ã®ç”»åƒã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ */
.current-image-preview {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 10px;
}
.current-image-preview img {
    max-width: 80px;
    max-height: 80px;
    border-radius: 4px;
    border: 1px solid #ddd;
}

/* ã€Œç”»åƒã‚’å‰Šé™¤ã€ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ */
.remove-image-wrapper {
    display: flex;
    align-items: center;
}
.remove-image-wrapper input[type="checkbox"] {
    margin-right: 5px;
}
.remove-image-wrapper label {
    font-size: 13px;
    color: #e53e3e; /* èµ¤è‰²ã«ã—ã¦æ³¨æ„ã‚’å¼•ã */
    cursor: pointer;
}

/* ã€Œç”»åƒã‚’å¤‰æ›´/è¿½åŠ ã€ãƒœã‚¿ãƒ³ */
.change-image-wrapper {
    margin-top: 5px;
}
.btn-change-image {
    display: inline-block;
    padding: 6px 12px;
    font-size: 13px;
    background-color: #f0f0f0;
    border: 1px solid #ccc;
    border-radius: 4px;
    cursor: pointer;
}
.btn-change-image:hover {
    background-color: #e0e0e0;
}
/* å®Ÿéš›ã®input[type=file]ã¯éè¡¨ç¤ºã«ã™ã‚‹ */
.edit-image-input {
    display: none;
}

/* ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ  */
.message-form {
    padding: 15px 20px;
    background-color: #fff;
    flex-shrink: 0;
}
.form-group {
    display: flex;
    align-items: center;
}
.message-input {
    flex-grow: 1;
    border: 1px solid #ccc;
    border-radius: 5px;
    padding: 10px 20px;
    margin-right: 10px;
}
.image-upload-label {
    background-color: white;
    border: 2px solid red;
    color: red;
    padding: 5px 12px;
    border-radius: 5px;
    cursor: pointer !important;
    margin-right: 10px;
    white-space: nowrap;
}
.image-upload-input {
    display: none;
}
.send-button {
    background: none;
    border: none;
    cursor: pointer;
    padding: 5px;
}
.send-icon {
    width: 30px;
    height: 30px;
    color: #555;
}

.validation-errors {
  margin-bottom: 1rem; /* ä¸‹å´ã®ä½™ç™½ */
  padding: 0.25rem; /* å†…å´ã®ä½™ç™½ */
  border: 1px solid #e53e3e; /* èµ¤ç³»ã®æ ç·š */
  background-color: #fff5f5; /* è–„ã„èµ¤ç³»ã®èƒŒæ™¯è‰² */
  border-radius: 0.25rem; /* è§’ã‚’å°‘ã—ä¸¸ã‚ã‚‹ */
}

/* ã‚¨ãƒ©ãƒ¼ãƒªã‚¹ãƒˆï¼ˆulï¼‰ã®ã‚¹ã‚¿ã‚¤ãƒ« */
.validation-errors ul {
  margin: 0;
  padding-left: 1.25rem; /* å·¦å´ã®ç®‡æ¡æ›¸ãã®ç‚¹ã®ã‚¹ãƒšãƒ¼ã‚¹ */
  list-style-type: disc; /* ç®‡æ¡æ›¸ãã®ç‚¹ã‚’è¡¨ç¤º */
}

/* å„ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆliï¼‰ã®ã‚¹ã‚¿ã‚¤ãƒ« */
.validation-error-message {
  color: #c53030; /* æ–‡å­—è‰²ã‚’èµ¤ç³»ã« */
  font-weight: bold; /* æ–‡å­—ã‚’å¤ªå­—ã« */
}

/* ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é–“ã®ä½™ç™½ï¼ˆä»»æ„ï¼‰ */
.validation-error-message + .validation-error-message {
  margin-top: 0.5rem; /* ã‚¨ãƒ©ãƒ¼ãŒè¤‡æ•°ã‚ã‚‹å ´åˆã€é …ç›®é–“ã«å°‘ã—éš™é–“ã‚’ç©ºã‘ã‚‹ */
}


/* ======================================= */
/* ã“ã“ã‹ã‚‰ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã®ã‚¹ã‚¿ã‚¤ãƒ« */
/* ======================================= */

/* --- 1. PCã‚µã‚¤ã‚º (1400px - 1540px) --- */
/* ã“ã®å¹…ã§ã¯ã€ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚’è¡¨ç¤ºã—ãŸã¾ã¾å…¨ä½“ã®ã‚³ãƒ³ãƒ†ãƒŠå¹…ã‚’åºƒã’ã¾ã™ */
@media screen and (min-width: 1400px) and (max-width: 1540px) {
    .main-container {
        /*
         * ç”»é¢å¹…ã„ã£ã±ã„ã«åºƒã’ã‚‹ã®ã§ã¯ãªãã€
         * å°‘ã—ãƒãƒ¼ã‚¸ãƒ³ã‚’æ®‹ã™ãŸã‚ã«95%ãªã©ã«è¨­å®šã—ã¾ã™ã€‚
         * ã¾ãŸã¯å›ºå®šå€¤ã§ max-width: 1380px; ãªã©ã¨æŒ‡å®šã—ã¦ã‚‚è‰¯ã„ã§ã—ã‚‡ã†ã€‚
         */
        max-width: 1380px;
    }
}

/* --- 2. ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã‚µã‚¤ã‚º (768px - 850px) --- */
/* ã“ã®å¹…ã§ã¯ã€ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚’éè¡¨ç¤ºã«ã—ã€ãƒãƒ£ãƒƒãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ç”»é¢å…¨ä½“ã«åºƒã’ã¾ã™ */
@media screen and (min-width: 768px) and (max-width: 850px) {
    .sidebar {
        /*
         * display: none; ã ã¨æ€¥ã«æ¶ˆãˆã‚‹ã®ã§ã€
         * widthã‚’0ã«ã—ã¦è¦‹ãˆãªãã™ã‚‹ã“ã¨ã§ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½™åœ°ã‚’æ®‹ã—ã¾ã™ã€‚
         */
        width: 0;
        padding: 20px 0; /* æ¨ªãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’ãªãã™ */
        overflow: hidden; /* ã¯ã¿å‡ºã—ãŸå†…å®¹ã‚’éš ã™ */
        visibility: hidden; /* ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼ãªã©ã‹ã‚‰ã‚‚éš ã™ */
    }

    .main-container {
        /* ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆå¹…ã§ã¯ã€å·¦å³ã®ãƒãƒ¼ã‚¸ãƒ³ã‚’å°‘ã—ã ã‘ã«ã™ã‚‹ */
        padding: 0 15px;
        max-width: 100%; /* æœ€å¤§å¹…ã®åˆ¶é™ã‚’è§£é™¤ */
        box-sizing: border-box; /* paddingã‚’å«ã‚ã¦å¹…ã‚’è¨ˆç®— */
    }

    .message__bubble {
        /* ç”»é¢å¹…ãŒç‹­ããªã‚‹ã®ã§ã€å¹ãå‡ºã—ã®æœ€å¤§å¹…ã‚‚å°‘ã—ç‹­ã‚ã¾ã™ */
        max-width: 350px;
    }
}


/* --- 3. ã‚¹ãƒãƒ›ã‚µã‚¤ã‚º (767pxä»¥ä¸‹) --- */
/* 768pxæœªæº€ã®ç”»é¢å¹…ã§é©ç”¨ã•ã‚Œã‚‹ã‚¹ã‚¿ã‚¤ãƒ«ã€‚ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã®è¨­å®šã‚’ç¶™æ‰¿ã—ã¤ã¤ã€ã•ã‚‰ã«èª¿æ•´ã—ã¾ã™ã€‚*/
@media screen and (max-width: 767px) {
    .sidebar {
        display: none; /* ã‚¹ãƒãƒ›ã§ã¯å®Œå…¨ã«éè¡¨ç¤º */
    }

    .main-container {
        padding: 0; /* ç”»é¢ã„ã£ã±ã„ã«è¡¨ç¤º */
    }

    .chat-header h1 {
        font-size: 14px; /* ã‚¿ã‚¤ãƒˆãƒ«ã‚’ã•ã‚‰ã«å°ã•ã */
    }
    .btn-complete {
        padding: 6px 12px;
        font-size: 12px;
    }

    .item-info {
        padding: 15px;
    }
    .item-info__image {
        width: 60px;
        height: 60px;
    }

    .message-area {
        padding: 15px;
    }

    /* ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…¥åŠ›æ¬„ã®ç”»åƒè¿½åŠ ãƒœã‚¿ãƒ³ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’éè¡¨ç¤ºã«ã™ã‚‹ä¾‹ */
    .image-upload-label {
        font-size: 0; /* ãƒ†ã‚­ã‚¹ãƒˆã‚’æ¶ˆã™ */
        padding: 8px;
    }
    .image-upload-label::before {
        content: "ğŸ–¼ï¸"; /* çµµæ–‡å­—ã‚„ã‚¢ã‚¤ã‚³ãƒ³ãƒ•ã‚©ãƒ³ãƒˆã§ä»£æ›¿ */
        font-size: 16px;
    }
}